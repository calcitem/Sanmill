{
  "description": "Unified configuration for Katamill with different training modes",
  "version": "3.0",
  "_training_modes": {
    "_comment": "Use command line parameters to select training intensity",
    "_usage_examples": {
      "quick_test": "python easy_train.py --quick --max-moves 300 --temperature 0.8",
      "standard_training": "python easy_train.py --max-moves 400 --temperature 0.8", 
      "strong_training": "python easy_train.py --fresh-start --max-moves 500 --temperature 0.6 --workers 12"
    },
    "_parameter_explanations": {
      "max_moves": "Theoretical max is ~204 steps, set 250-300 for safety buffer",
      "temperature": "Lower values (0.6-0.8) produce more decisive games, reducing draws",
      "mcts_sims": "CPU workers benefit from moderate sims (400-800), GPU workers can handle more",
      "early_stopping": "Automatically stops when validation loss plateaus, saving time",
      "epochs_per_iteration": "Set high (80), early stopping will exit when optimal"
    }
  },
  
  "training": {
    "batch_size": 128,
    "num_epochs": 100,
    "learning_rate": 0.0006,
    "weight_decay": 0.001,
    
    "loss_weights": {
      "policy_weight": 5.0,
      "value_weight": 3.0,
      "score_weight": 1.0,
      "ownership_weight": 0.8,
      "mill_potential_weight": 0.5
    },
    
    "advanced_training": {
      "use_lr_schedule": true,
      "warmup_epochs": 3,
      "use_mixed_precision": true,
      "gradient_accumulation_steps": 2,
      "adaptive_weighting": true,
      "label_smoothing": 0.02,
      "aux_warmup_steps": 2000,
      "_comment_early_stopping": "Early stopping prevents overfitting and saves time",
      "early_stopping_patience": 12,
      "early_stopping_min_delta": 0.0001
    },
    
    "regularization": {
      "grad_clip_norm": 0.8,
      "use_symmetries": true,
      "dropout_rate": 0.18
    },
    
    "checkpointing": {
      "checkpoint_dir": "checkpoints/katago_style",
      "save_every_epochs": 3,
      "keep_best_models": 5
    }
  },

  "network": {
    "input_channels": 32,
    "num_filters": 256,
    "num_residual_blocks": 12,
    "policy_size": 576,
    "ownership_size": 24,
    "dropout_rate": 0.1,
    "activation": "mish",
    "use_se": true,
    "se_ratio": 0.25
  },

  "mcts": {
    "cpuct": 1.8,
    "num_simulations": 1000,
    "dirichlet_alpha": 0.2,
    "dirichlet_epsilon": 0.15,
    "temperature": 1.0,
    
    "advanced_search": {
      "use_virtual_loss": true,
      "virtual_loss_count": 3,
      "progressive_widening": true,
      "min_visits_for_expansion": 1,
      "use_transpositions": true,
      "max_transposition_size": 100000,
      "fpu_reduction": 0.25,
      "fpu_at_root": true
    },
    
    "nine_mens_morris": {
      "consecutive_move_bonus": 0.02,
      "removal_phase_exploration": 0.8,
      "placing_phase_exploration": 1.3,
      "flying_phase_simulations_multiplier": 2.0
    }
  },

  "selfplay": {
    "num_games": 10000,
    "max_moves": 250,
    "mcts_sims": 600,
    "temperature": 0.8,
    "temp_decay_moves": 40,
    "cpuct": 1.8,
    "num_workers": 8,
    
    "data_quality": {
      "min_game_length": 10,
      "max_game_length": 200,
      "balance_outcomes": true,
      "filter_repetitive_games": true
    }
  },

  "evaluation": {
    "analysis_depth": 800,
    "confidence_samples": 15,
    "enable_uncertainty_estimation": true,
    "detailed_tactical_analysis": true
  },

  "performance": {
    "feature_cache_size": 15000,
    "batch_inference": true,
    "parallel_workers_per_gpu": 2,
    "memory_efficient_mode": false
  },

  "nine_mens_morris_specific": {
    "phase_aware_features": true,
    "consecutive_move_handling": true,
    "mill_pattern_detection": "advanced",
    "tactical_feature_extraction": true,
    "strategic_position_evaluation": true
  }
}
